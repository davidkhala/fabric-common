matrix:
  include:
    - language: node_js
      node_js:
        - "12"
      dist: bionic
      install:
        - export nodejsInstall="curl --silent --show-error https://raw.githubusercontent.com/davidkhala/node-utils/master/install.sh"
        - $nodejsInstall | bash -s nodeGYPDependencies
        - curl --silent --show-error https://raw.githubusercontent.com/davidkhala/node-utils/master/scripts/npm.sh | bash -s packageLock false
        - ./install.sh fabricInstall -d
        - npm install --global lerna
        - cd nodejs; npm install; cd -
        - ./bash/test/shunit2.sh
      script:
        - cd nodejs;
        - npm test
        - ./bash/test/softHSMTest.sh



